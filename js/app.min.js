(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")?document.querySelector(".game")&&(document.querySelector(".check").textContent=sessionStorage.getItem("money")):(sessionStorage.setItem("money",500),document.querySelector(".check").textContent=500);const t=document.querySelector(".preloader"),s=document.querySelector(".wrapper");let o,n=document.querySelector(".game__text_bet");var a,r;function l(){let e;document.querySelectorAll(".game__level").forEach((t=>{t.classList.contains("_active")&&(e=t.dataset.level)})),sessionStorage.setItem("level",e)}document.addEventListener("click",(e=>{let o=e.target;var n,a;o.closest(".acces-preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),s.classList.add("_visible")),o.closest(".game__button")&&(l(),function(){1==sessionStorage.getItem("level")?m=[new S(67,0,300)]:2==sessionStorage.getItem("level")?m=[new S(67,0,250),new S(111,0,300)]:3==sessionStorage.getItem("level")?m=[new S(67,0,250),new S(111,0,300),new S(148,0,400)]:4==sessionStorage.getItem("level")?m=[new S(67,0,450),new S(111,0,400),new S(148,0,300),new S(182,0,400)]:5==sessionStorage.getItem("level")?m=[new S(67,0,500),new S(111,0,350),new S(148,0,300),new S(182,0,350),new S(75,0,400)]:6==sessionStorage.getItem("level")?m=[new S(67,0,500),new S(111,0,400),new S(148,0,300),new S(182,0,350),new S(75,0,400),new S(105,0,400)]:7==sessionStorage.getItem("level")&&(m=[new S(67,0,300),new S(111,0,450),new S(148,0,400),new S(182,0,350),new S(75,0,350),new S(105,0,350),new S(145,0,250)]);m.forEach((e=>{u[e.currentIndex].classList.add("stone")}))}(),setTimeout((()=>{m.forEach((e=>function(e){const t=[-1,1];let s=t[Math.floor(Math.random()*(t.length-0)+0)];e.timerId=setInterval((function(){if(document.querySelectorAll(".box-field__field div").forEach((e=>{e.style.transform="rotate(0deg)"})),-1==s?e.currentRotate-=20:e.currentRotate+=20,document.querySelectorAll(".stone").forEach((t=>{t.style.transform=`rotate(${e.currentRotate}deg)`})),u[e.currentIndex+s].classList.contains("wall")||u[e.currentIndex+s].classList.contains("wall-trp")||u[e.currentIndex+s].classList.contains("stone"))s=t[Math.floor(Math.random()*(t.length-0)+0)];else{u[e.currentIndex].classList.remove("stone");let t=s;e.currentIndex+=t,u[e.currentIndex].classList.add("stone")}u[e.currentIndex+i].classList.contains("empty")&&(u[e.currentIndex].classList.remove("stone"),e.currentIndex+=40,u[e.currentIndex].classList.add("stone")),h()}),e.speed)}(e)))}),(n=2500,a=4e3,Math.floor(Math.random()*(a-n)+n))),document.querySelector(".game__levels").classList.add("_hold"),document.querySelector(".game__buttons").classList.remove("_hold"),document.querySelector(".game__button").classList.add("_hold"))})),document.addEventListener("touchstart",(e=>{let t=e.target;t.closest(".game__arrow_left")&&(clearInterval(o),f(),o=setInterval((()=>{f(),h()}),250)),t.closest(".game__arrow_top")&&(clearInterval(o),w(),24==g&&(document.querySelector(".game__buttons").classList.add("_hold"),document.querySelector(".play").classList.add("_active"),y()),o=setInterval((()=>{w(),h()}),250)),t.closest(".game__arrow_right")&&(clearInterval(o),_(),o=setInterval((()=>{_(),h()}),250)),t.closest(".game__arrow_bottom")&&(clearInterval(o),I(),o=setInterval((()=>{I(),h()}),250))})),document.addEventListener("touchend",(e=>{let t=e.target;t.closest(".game__arrow_left")&&clearInterval(o),t.closest(".game__arrow_top")&&clearInterval(o),t.closest(".game__arrow_right")&&clearInterval(o),t.closest(".game__arrow_bottom")&&clearInterval(o)})),document.querySelector(".game")&&(a="_active",r=".game__level",document.querySelectorAll(r).forEach((e=>{e.addEventListener("click",(()=>{document.querySelectorAll(r).forEach((e=>{e.classList.contains(a)&&e.classList.remove(a)})),e.classList.add(a),l(),function(){let e=sessionStorage.getItem("level");1==e?n.textContent=50:2==e?n.textContent=100:3==e?n.textContent=150:4==e?n.textContent=200:5==e?n.textContent=250:6==e?n.textContent=300:7==e&&(n.textContent=350)}()}))})));const c=document.querySelector(".box-field__field"),i=20;let d;d=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,1,2,2,2,4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,2,2,3,2,2,2,2,2,2,2,2,2,2,2,4,2,2,2,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,1,1,2,2,4,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,1,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,1,1,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,4,1,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1];const u=[];let m,g=190;function L(){u[g].classList.remove("hero")}function f(){L(),u[g-1].classList.contains("wall-trp")||u[g-1].classList.contains("wall")||u[g-1].classList.contains("stone")||(g-=1),u[g].classList.add("hero"),v()}function _(){L(),u[g+1].classList.contains("wall-trp")||u[g+1].classList.contains("wall")||u[g+1].classList.contains("stone")||(g+=1),u[g].classList.add("hero"),v()}function w(){L(),u[g-i].classList.contains("stairs")&&(g-=40),u[g].classList.add("hero")}function I(){L(),u[g+i].classList.contains("stairs")&&(g+=40),u[g].classList.add("hero")}function v(){u[g+i].classList.contains("empty")&&(L(),g+=40,u[g].classList.add("hero"))}document.querySelector(".game")&&(!function(){for(let e=0;e<d.length;e++){const t=document.createElement("div");c.appendChild(t),u.push(t),1==d[e]?u[e].classList.add("wall-trp"):2==d[e]?u[e].classList.add("wall"):3==d[e]?u[e].classList.add("empty"):4==d[e]?u[e].classList.add("stairs"):5==d[e]?u[e].classList.add("one-floor"):6==d[e]?u[e].classList.add("two-floor"):7==d[e]?u[e].classList.add("three-floor"):8==d[e]?u[e].classList.add("four-floor"):9==d[e]&&u[e].classList.add("five-floor")}}(),u[g].classList.add("hero"));class S{constructor(e,t,s){this.startIndex=e,this.speed=s,this.currentIndex=e,this.timerId=NaN,this.startRotate=0,this.currentRotate=t}}function h(){u[g].classList.contains("stone")&&(m.forEach((e=>clearInterval(e.timerId))),clearInterval(o),document.querySelector(".game__buttons").classList.add("_hold"),document.querySelector(".play").classList.add("_active"),u[g].classList.contains("one-floor")?sessionStorage.setItem("floor",1):u[g].classList.contains("two-floor")?sessionStorage.setItem("floor",2):u[g].classList.contains("three-floor")?sessionStorage.setItem("floor",3):u[g].classList.contains("four-floor")?sessionStorage.setItem("floor",4):u[g].classList.contains("five-floor")&&sessionStorage.setItem("floor",5),y())}function y(){let e=sessionStorage.getItem("floor"),t=sessionStorage.getItem("level"),s=+sessionStorage.getItem("money"),o=0;1==t?o=50:2==t?o=100:3==t?o=150:4==t?o=200:5==t?o=250:6==t?o=300:7==t&&(o=350),sessionStorage.setItem("money",s+e*o)}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();